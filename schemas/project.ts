import { defineField, defineType } from "sanity"

export default defineType({
  name: "project",
  title: "Projekty",
  type: "document",
  icon: () => "üé®",
  groups: [
    { name: "content", title: "üìù Obsah", default: true },
    { name: "media", title: "üñºÔ∏è M√©dia" },
    { name: "details", title: "‚ÑπÔ∏è Detaily" },
  ],
  fields: [
    defineField({
      name: "title",
      title: "N√°zev projektu",
      type: "string",
      description: "Hlavn√≠ n√°zev projektu (nap≈ô. 'Kav√°rna Na R≈Ø≈æku')",
      validation: (Rule) => Rule.required(),
      group: "content",
    }),
    defineField({
      name: "slug",
      title: "URL slug",
      type: "slug",
      description: "Kliknƒõte na 'Generate' pro automatick√© vytvo≈ôen√≠ URL",
      options: {
        source: "title",
        maxLength: 96,
      },
      validation: (Rule) => Rule.required(),
      group: "content",
    }),
    defineField({
      name: "image",
      title: "N√°hledov√Ω obr√°zek",
      type: "image",
      description: "Zobraz√≠ se na kartƒõ v portfoliu (1200x800px doporuƒçeno)",
      options: {
        hotspot: true,
      },
      group: "media",
    }),
    defineField({
      name: "mainImage",
      title: "Hero obr√°zek (detail)",
      type: "image",
      description: "Velk√Ω obr√°zek na detailn√≠ str√°nce projektu (1600x900px doporuƒçeno)",
      options: {
        hotspot: true,
      },
      group: "media",
    }),
    defineField({
      name: "description",
      title: "Kr√°tk√Ω popis",
      type: "text",
      description: "Zobraz√≠ se na kartƒõ v portfoliu (2-3 vƒõty)",
      rows: 3,
      group: "content",
    }),
    defineField({
      name: "shortDescription",
      title: "√övodn√≠ popis",
      type: "text",
      description: "Zobraz√≠ se pod n√°zvem na detailu projektu",
      rows: 2,
      group: "content",
    }),
    defineField({
      name: "goal",
      title: "C√≠l projektu",
      type: "text",
      description: "Jak√Ω byl hlavn√≠ c√≠l a zad√°n√≠ projektu?",
      rows: 4,
      group: "content",
    }),
    defineField({
      name: "workflow",
      title: "Proces & workflow",
      type: "array",
      description: "Jednotliv√© kroky procesu v√Ωvoje (nap≈ô. 'Anal√Ωza po≈æadavk≈Ø', 'Design prototypu')",
      of: [{ type: "string" }],
      group: "content",
    }),
    defineField({
      name: "features",
      title: "Hlavn√≠ p≈ô√≠nosy",
      type: "array",
      description: "Co jsem vytvo≈ôil / dodal (nap≈ô. 'Responzivn√≠ design', 'SEO optimalizace')",
      of: [{ type: "string" }],
      group: "content",
    }),
    defineField({
      name: "results",
      title: "V√Ωsledky & dopad",
      type: "text",
      description: "Jak√© byly v√Ωsledky projektu? (nap≈ô. metriky, zpƒõtn√° vazba)",
      rows: 4,
      group: "content",
    }),
    defineField({
      name: "gallery",
      title: "Galerie",
      type: "array",
      description: "Dal≈°√≠ obr√°zky projektu (screenshots, mockupy, atd.)",
      of: [{ type: "image" }],
      group: "media",
    }),
    defineField({
      name: "url",
      title: "≈Ωiv√° URL",
      type: "url",
      description: "Odkaz na funguj√≠c√≠ web (nap≈ô. https://kavarnanaruzku.cz)",
      group: "details",
    }),
    defineField({
      name: "client",
      title: "Klient",
      type: "string",
      description: "Pro koho byl projekt vytvo≈ôen",
      group: "details",
    }),
    defineField({
      name: "year",
      title: "Rok realizace",
      type: "number",
      description: "Ve kter√©m roce byl projekt dokonƒçen",
      group: "details",
    }),
  ],
  preview: {
    select: {
      title: "title",
      media: "image",
    },
  },
})
